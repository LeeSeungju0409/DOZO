<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.yedam.mapper.ProductMapper">
	<!-- <select id="selectList" resultType="co.yedam.vo.ProductVO" parameterType="co.yedam.vo.ProductVO"> -->
	<select id="selectList">
		select prod_no
		,prod_name
		,prod_price
		,prod_category
		,prod_image
		,prod_exp
		,prod_code
		,thumbnail
		,prod_star
		,prod_category2
		FROM product
		where 1=1
		<if test="prodCategory != null">
			and prod_category = #{prodCategory}
			and prod_category2 = #{prodCategory2}
		</if>
		<if test="prodStar != 0">
			and prod_star = 5
		</if>
		ORDER BY prod_no
	</select>

	
	<select id="selectListPaging"
		parameterType="co.yedam.vo.ProductVO">
		SELECT b.*
		FROM
		(
		SELECT rownum AS rn, a.*
		FROM (
		SELECT *
		FROM product
		ORDER BY prod_no DESC
		) a
		) b
		WHERE b.rn> (#{page} -1 ) * 6
        <![CDATA[
            AND b.rn <= (#{page} * 6)
        ]]>
	</select>
	
	<select id="selectTotalCount"
		parameterType="co.yedam.vo.ProductVO" resultType="int">
		select count(1)
		from tbl_board
	</select>



</mapper>